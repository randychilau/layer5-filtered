<link
  rel="stylesheet"
  href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"
/>
<!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<!-- Latest compiled JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

<div class="col-sm-12">
  <div class="panel panel-default">
    <table class="table table-responsive table-hover">
      <thead
        style="
          background-color: #a6b7be;
          color: #222;
          word-wrap: none;
          width: 100%;
        "
      >
        <tr>
          <th>Service Mesh</th>
          <th>Mesh Version</th>
          <th>Traffic Access</th>
          <th>Traffic Split</th>
          <th>Traffic Spec</th>
          <th>% Passed</th>
        </tr>
      </thead>
      <tbody>
        {% assign smi = site.data.landscape.smi %} {% for result in smi %}
        <tr data-toggle="collapse" id="{{result.id}}" data-target=".{{result.id}}">
          <td>
            <!-- <div class="tooltip"> -->
            {% if result.mesh_name == "Open Service Mesh" %}
            <img
              src="assets/images/service-mesh-icons/osm.png"
              height="50px"
              alt="{{result.mesh_name}}"
              data-toggle="tooltip"
              title="{{result.more_details[0].mesh_name}}"
            />
            {% elsif result.mesh_name == "Traefik" %}
            <img
              src="assets/images/service-mesh-icons/traefik.svg"
              height="50px"
              alt="{{result.mesh_name}}"
              data-toggle="tooltip"
              title="{{result.more_details[0].mesh_name}}"
            />
            {% elsif result.mesh_name == "Istio" %}
            <img
              src="assets/images/service-mesh-icons/istio.png"
              height="50px"
              alt="{{result.mesh_name}}"
              data-toggle="tooltip"
              title="{{result.more_details[0].mesh_name}}"
            />
            {% elsif result.mesh_name == "Linkerd" %}
            <img
              src="assets/images/service-mesh-icons/linkerd.png"
              height="50px"
              alt="{{result.mesh_name}}"
              data-toggle="tooltip"
              title="{{result.more_details[0].mesh_name}}"
            />
            {% elsif result.mesh_name == "Kuma" %}
            <img
              src="assets/images/service-mesh-icons/Kuma.svg"
              height="50px"
              alt="{{result.mesh_name}}"
              data-toggle="tooltip"
              title="{{result.more_details[0].mesh_name}}"
            />
            {% elsif result.mesh_name == "Consul" %}
            <img
              src="assets/images/service-mesh-icons/consul.png"
              height="50px"
              alt="{{result.mesh_name}}"
              data-toggle="tooltip"
              title="{{result.more_details[0].mesh_name}}"
            />
            {% elsif result.mesh_name == "App Mesh" %}
            <img
              src="assets/images/service-mesh-icons/App Mesh.png"
              height="50px"
              alt="{{result.mesh_name}}"
              data-toggle="tooltip"
              title="{{result.more_details[0].mesh_name}}"
            />
            {% endif %}
           <!-- <span class="tooltiptext">{{result.mesh_name}}</span></div> -->
          </td>

          <td>
            <!-- <div class="tooltip"> -->
            <p>{{result.mesh_version}}</p>
            <!-- <span class="tooltiptext"> Hello</span>
            </div> -->
          </td>

          {% for spec in result.more_details %}
            
          <td data-toggle="tooltip" title="{{spec.reason}}">
            {% if spec.capability == "None" %}
            <span class="material-icons"> highlight_off </span>
            {% elsif spec.capability == "Full" %}
            <span class="material-icons"> check_circle_outline </span>
            {% elsif result.capability == "Half" %}
            <span class="material-icons"> unpublished </span>
            {% endif %}
          </td>
          {% endfor %}

          <td>{{result.passing_percentage}}</td>

        </tr>

        {% for prev_result in result.previous_versions %}
          <tr class="collapse {{result.id}}">
            <td></td>
            <td>{{prev_result.mesh_version}}</td>
            
            {% for spec in result.more_details %}
              <td scope="row" data-toggle="tooltip" title="{{spec.reason}}">
                {% if spec.capability == "None" %}
                <span class="material-icons"> highlight_off </span>
                {% elsif spec.capability == "Full" %}
                <span class="material-icons"> check_circle_outline </span>
                {% elsif result.capability == "Half" %}
                <span class="material-icons"> unpublished </span>
                {% endif %}
              </td>
            {% endfor %}

            <td>{{prev_result.passing_percentage}}</td>
          </tr>
        {% endfor %}
      
      {% endfor %}
      </tbody>
    </table>
  </div>
</div>